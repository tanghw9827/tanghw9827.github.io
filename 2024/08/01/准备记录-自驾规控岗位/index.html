<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.png"><link rel="icon" href="/img/avatar.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Harvey Tang"><meta name="keywords" content="C++, Autopilot, Planning, Control"><meta name="description" content="### 1.自我介绍 面试官您好，我叫唐华文，本科就读于湖南大学车辆工程，目前是哈尔滨工业大学控制专业研二，在校期间获得过国家励志奖学金、校一等奖学金、美赛一等奖、优秀学生干部等奖项，接下来我会根据我的简历介绍下我的个人情况。 首先是我的**项目经历**。基于Apollo和Carla的横纵向控制，纵向控制主要由一个级联PID控制器和一个标定表构成。位置控制器接受位置误差，速度控制器接受速度误差和"><meta property="og:type" content="article"><meta property="og:title" content="底盘驱动基本原理"><meta property="og:url" content="https://tanghw9827.github.io/2024/08/01/%E5%87%86%E5%A4%87%E8%AE%B0%E5%BD%95-%E8%87%AA%E9%A9%BE%E8%A7%84%E6%8E%A7%E5%B2%97%E4%BD%8D/index.html"><meta property="og:site_name" content="Harvey"><meta property="og:description" content="### 1.自我介绍 面试官您好，我叫唐华文，本科就读于湖南大学车辆工程，目前是哈尔滨工业大学控制专业研二，在校期间获得过国家励志奖学金、校一等奖学金、美赛一等奖、优秀学生干部等奖项，接下来我会根据我的简历介绍下我的个人情况。 首先是我的**项目经历**。基于Apollo和Carla的横纵向控制，纵向控制主要由一个级联PID控制器和一个标定表构成。位置控制器接受位置误差，速度控制器接受速度误差和"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711517649637-ef44ef60-1c7d-4048-a26b-8a82b1db5ffa.png#averageHue=%23f3f1ed&clientId=uf2cd4cd7-1ad5-4&from=paste&height=176&id=ude845191&originHeight=158&originWidth=493&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=17594&status=done&style=none&taskId=ue707e78f-f112-4a30-9bd2-8bcf63c8553&title=&width=547.7777922889337"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1709874992176-d70a8bee-afb9-494a-b332-3ebf2af275c9.png#averageHue=%239c8169&clientId=u113b2836-6258-4&from=paste&height=322&id=xmK74&originHeight=302&originWidth=1014&originalType=binary&ratio=0.9375&rotation=0&showTitle=false&size=25902&status=done&style=none&taskId=u05a64cd4-2691-400c-b01d-49e93cfb648&title=&width=1081.6"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1709875124600-67b28e06-a5c4-49a8-bfb5-ddc9a924d9b4.png#averageHue=%23fcfcfb&clientId=u113b2836-6258-4&from=paste&id=BL4DB&originHeight=637&originWidth=1022&originalType=url&ratio=0.9375&rotation=0&showTitle=false&status=done&style=none&taskId=u86516fb7-0670-4401-a97e-1ca8f160d5d&title="><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711334656754-7038f80f-e222-404c-94bb-46b7077d5847.png#averageHue=%23faf9f9&clientId=u0b9cb2d8-9067-4&from=paste&height=264&id=u02940c9f&originHeight=238&originWidth=1075&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=36774&status=done&style=none&taskId=u2fc870e9-db1c-4998-ba59-e4b41bb440d&title=&width=1194.4444760864171"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711514066855-5454e5df-f1f1-4e12-982e-10c1a0ae57f6.png#averageHue=%23f7f6f4&clientId=u970f340a-49df-4&from=paste&height=71&id=u4224af0a&originHeight=64&originWidth=399&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=19635&status=done&style=none&taskId=u37963ab1-3ed3-46a2-9ab2-5f07acfc80a&title=&width=443.33334507765625"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711420421571-320675a4-1de8-4657-a1b8-73b9aed6422b.png#averageHue=%23f1eeea&clientId=u05c7ec3e-65a0-4&from=paste&height=335&id=uefa5957b&originHeight=251&originWidth=492&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=32173&status=done&style=none&taskId=u078f9f35-0c63-4ca1-82e4-aa134920778&title=&width=656"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711422097757-8ebc9de1-e8ca-4a92-bd53-9b5eb66092ca.png#averageHue=%23f6f5f3&clientId=u05c7ec3e-65a0-4&from=paste&height=836&id=BhA3A&originHeight=627&originWidth=518&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=55086&status=done&style=none&taskId=ue9fbcb9e-b364-4c76-a8d1-617ee9ebd3c&title=&width=690.6666666666666"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711420757619-9ff80d91-4fb0-4ec2-96b6-69dbf788d8d2.png#averageHue=%23fbf9f7&clientId=u05c7ec3e-65a0-4&from=paste&height=48&id=ucefd8176&originHeight=36&originWidth=293&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=2846&status=done&style=none&taskId=uc0036a75-d2ac-492a-9617-d37029aaea0&title=&width=390.6666666666667"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711420773571-bffd8d07-0589-4046-847d-7ff35a9f73a5.png#averageHue=%23eeeae5&clientId=u05c7ec3e-65a0-4&from=paste&height=166&id=u0f35d6da&originHeight=125&originWidth=494&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=20174&status=done&style=none&taskId=ua6b7a07e-9539-4ece-92b6-7e122af72b1&title=&width=656"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711436895364-6a6858ea-d73c-41c3-b1a2-0735487983d8.png#averageHue=%23f4f2f0&clientId=ucab514a9-5f60-4&from=paste&height=114&id=u5e5ec959&originHeight=85&originWidth=500&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=9050&status=done&style=none&taskId=uf57ab201-9611-4948-8539-dcdf1f8bf64&title=&width=668"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711336738858-f779697b-80ec-452a-a7aa-9490edd647a1.png#averageHue=%23f5f3f0&clientId=u0b9cb2d8-9067-4&from=paste&height=179&id=Q8ozB&originHeight=161&originWidth=494&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=19546&status=done&style=none&taskId=u427df147-20bf-4cf4-bc68-7257bc188a5&title=&width=548.8889034294791"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711433317590-78de64c9-2c84-4a90-aaf2-635865719966.png#averageHue=%23f8f7f5&clientId=u27d948ed-546b-4&from=paste&height=552&id=uefa5c520&originHeight=471&originWidth=517&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=41144&status=done&style=none&taskId=u2565e733-8ff0-4e14-8038-c5bf03675a3&title=&width=606.3333740234375"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711433476932-8a8b2f0a-c691-428b-a7d2-32ab48a54037.png#averageHue=%23f5f3f1&clientId=u27d948ed-546b-4&from=paste&height=312&id=u6fbcbfe9&originHeight=234&originWidth=490&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=24769&status=done&style=none&taskId=u8965429c-4185-4d28-93ed-d2e0923e972&title=&width=653.3333333333334"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711433595317-27547d45-030c-4edc-9d67-9800055ae36b.png#averageHue=%23f7f4f3&clientId=u27d948ed-546b-4&from=paste&height=325&id=ua145fd69&originHeight=244&originWidth=470&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=24846&status=done&style=none&taskId=u036706c9-cc8e-4338-8915-fc24b634967&title=&width=626.6666666666666"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711447724656-1fe752d6-2a9a-498a-88b1-72470848087a.png#averageHue=%23f2efeb&clientId=ue8697255-5e77-4&from=paste&height=219&id=u6ab94b9d&originHeight=197&originWidth=520&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=23206&status=done&style=none&taskId=u003d405c-0cf7-4835-9532-6d47872f147&title=&width=577.7777930836622"><meta property="article:published_time" content="2024-07-31T16:00:00.000Z"><meta property="article:modified_time" content="2024-08-01T19:38:59.678Z"><meta property="article:author" content="Harvey Tang"><meta property="article:tag" content="C++, Autopilot, Planning, Control"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711517649637-ef44ef60-1c7d-4048-a26b-8a82b1db5ffa.png#averageHue=%23f3f1ed&clientId=uf2cd4cd7-1ad5-4&from=paste&height=176&id=ude845191&originHeight=158&originWidth=493&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=17594&status=done&style=none&taskId=ue707e78f-f112-4a30-9bd2-8bcf63c8553&title=&width=547.7777922889337"><title>底盘驱动基本原理 - Harvey</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"tanghw9827.github.io",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Harvey Tang</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="底盘驱动基本原理"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-08-01 00:00" pubdate>2024年8月1日 凌晨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 12k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 100 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header"><img src="/img/default.png" srcset="/img/loading.gif" lazyload alt="Post Image" style="width:20px;height:20px;margin-right:10px"> 底盘驱动基本原理</h1><div class="markdown-body"><meta name="referrer" content="no-referrer">### 1.自我介绍 面试官您好，我叫唐华文，本科就读于湖南大学车辆工程，目前是哈尔滨工业大学控制专业研二，在校期间获得过国家励志奖学金、校一等奖学金、美赛一等奖、优秀学生干部等奖项，接下来我会根据我的简历介绍下我的个人情况。 首先是我的**项目经历**。基于Apollo和Carla的横纵向控制，纵向控制主要由一个级联PID控制器和一个标定表构成。位置控制器接受位置误差，速度控制器接受速度误差和位置控制器的输出，速度控制器的输出为加速度补偿，与期望加速度求和后与速度一起作为油门/刹车标定表的输入，得到具体的油门开度和刹车值；横向控制采用LQR反馈+RBF前馈控制，LQR反馈控制首先建立车辆的动力学误差模型，通过求解Ricatti方程，可以计算最优的状态反馈控制律K。RBF神经网络通过前馈的方式来补偿道路曲率以及建模偏差对横向误差的影响。 多机器人路径规划与协同控制项目背景是无人车协同配送货物的情形，项目的难点是如何确定无人车的任务调度以最大化效率、避免碰撞以及如何规划机器人路径。首先是基于贪心算法来确定无人车的任务分配，根据任务分配采用A star 算法来对无人车的路径进行规划，通过设置一个初始线速度和角速度，采用PID算法控制无人车的速度以及航向与目标之间的角度偏差。这里使用了DWA动态窗口方法来避免碰撞。 最后是我的研究生课题，基于神经网络的伺服系统轮廓误差控制研究。这里主要涉及到一个轨迹跟踪控制和多轴联动的问题，考虑到不同神经网络的特性，我这里采用了LSTM神经网络来拟合整个伺服系统，对输出进行提前预测，通过预测输出和参考输入的差值来对参考输入进行提前调整，以实现较为精确的轨迹跟踪控制。 接下来简要介绍我的**实习和工作经历**，在大学毕业后我是去到了广汽埃安工作，主要负责ADAS新功能的上线测试工作((ACC\LKA\AEB\APC)，主要包括测试场景的设计，数据的收集（比如极端情况下人工干预的有效性验证、智驾系统的误报率和漏报率、碰撞率等），之后我前往固高科技进行实习，主要负责工业机器人系统平台的开发以及运动学和动力学模型的建立。当前我是在优必选进行实习，主要是基于小车采集到的激光雷达数据来实现移动机器人的规划与控制算法，目前我主要在做的是基于gazebo和rviz的联合仿真调试和实车的横纵向控制。 以上就是我的自我介绍，感谢面试官您的聆听。 ### 2.决策规划、控制算法 #### 2.1 全局（路径）规划、避障算法 **Dijkstra算法**: 城市的道路网络可以被抽象成一个图，其中顶点代表交叉路口，边代表道路，边的权重可以代表通过这段道路的距离。在这种场景下，Dijkstra算法可以用来找到从起点到终点的最短距离路径。从当前车辆位置点开始，通过不断更新与当前节点相邻的未访问节点的最短路径长度，逐步扩展到整个图，直到找到到达终点的最短路径 **A*算法：**算法维护到起始节点的实际代价和到目标节点的估计代价（当前点到终点曼哈顿距离）最小来寻找最优路径 **Hybrid A*算法**：根据车辆的动力学特性采用不同的扩展方式，根据车辆当前状态信息生成扩展节点，以确保生成的路径考虑了车辆的实际运动状态，即在二维网格中增加了theta维度，优化了节点拓展的方式，它不仅考虑位置方向(x,y)的拓展，还考虑了运动方向theta的拓展 **DWA：**基于动态窗口的局部路径规划算法，基于当前车辆的位置和速度，虑了车辆的加速度限制和转向限制，计算出在下一时刻所有可行的速度和转向角的组合。对于动态窗口内的每一个速度和转向角组合，使用一个评价函数来评估其性能（到目标的距离：优先考虑能够使车辆靠近目标位置的动作。航向：选择与目标方向对齐的动作。障碍物避让：避免选择会导致与障碍物碰撞的动作。速度保持：为了高效移动，优先考虑速度较高的动作，但同时要确保安全。选择最佳动作：基于评价函数，选择评分最高的速度和转向角组合作为最佳动作。 **卡尔曼滤波器**：采用观测值来递归优化估计值，能有效处理噪声和不确定性，设计卡尔曼增益来平衡估计值。条件：线性系统，观测误差和估计误差都满足0均值的正态分布。观测值目的：使得滤波后的误差协方差矩阵迹最小 **扩展卡尔曼滤波（EKF）**：EKF通过在每个时间步骤中线性化非线性函数，再使用卡尔曼滤波来已优化估计值。 **粒子滤波（PF）**:通过一组随机样本（称为粒子）来表示随机变量的概率分布。每个粒子代表了可能的系统状态 **低中高通滤波器：** #### 2.2 行为决策 **FSM(有限状态机)算法：**将复杂的控制逻辑分解为一组有限的状态（如巡航、换道、停车等），以及在这些状态之间进行转换的触发（事件）（如交通信号、障碍物检测、驾驶指令等）。每个状态定义了车辆在该状态下应执行的行为（加减速、转向等动作），而状态之间的（转换规则定义）基于实时环境数据和内部逻辑判断。 **BT算法（行为树算法）：**BT算法通过节点组成的树形结构来表示和控制决策流程。这些节点分为控制节点和任务节点，控制节点负责决策逻辑（如顺序执行、选择执行、并行执行等）比如紧急避障或者正常行驶模式，而任务节点代表实际的行动（如加速、减速）或条件判断(检测障碍物）。行为树从根节点（入口）开始执行，通过节点间的逻辑关系决定下一步执行哪个任务。 **POMDP算法：**在自动驾驶中(部分可观测的马尔可夫决策过程）算法是一种处理决策制定的框架，尤其适用于不确定性较高（传感器数据不完全或者不准确）的环境（雾天行驶）。它帮助自动驾驶车辆在有限的、不完全的信息下做出最优的行动决策。POMDP通过以下几个核心元素来描述决策问题：一组状态（S）描述环境的所有可能情况（车辆所处环境）；一组动作（A）代表车辆可以采取的措施（加减速、换道）；状态转移概率（T）定义了执行某个动作后从当前状态转移到下一个状态的概率（执行动作后，状态转换的可能性）；观测（O）表示车辆通过传感器获得的环境信息，由于传感器限制或外部干扰，这些观测可能是不完全或不准确的；观测概率函数（Z）描述了在特定状态下执行特定动作后得到某个观测的概率；奖励函数（R）评估在特定状态下执行某个动作的即时收益（减少行驶时间、提高安全性等）。信念更新：车辆不断基于传感器数据更新对环境状态的理解（即状态的概率分布），这是由于直接的环境状态通常是不可观测的。策略求解：基于当前的信念状态，车辆寻找一种策略，即在各种可能的动作中选择一个（保持速度、减速或者换道路），以最大化长期收益。这通常涉及复杂的计算，因为需要考虑所有可能的未来状态和观测。动作执行：根据选定的策略，车辆执行最优动作。重复过程：随着新的观测数据的获取，不断重复信念更新和策略求解过程，以适应环境的变化。 #### 2.3 局部规划 **RRT算法**：RRT算法从车辆当前位置（根节点）开始，随机生成节点并向障碍物之间的空白空间扩展，逐步构建一棵探索空间的树。这种方法特别适合于那些环境结构未知或难以预测的场景，如车辆需要在一个有多个障碍物的开放停车场中从入口行驶到出口 **RRT*算法:** 如果需要优化路径，例如最小化总行驶距离或行驶时间，RRT*算法就显得更加适用。每当生成新的节点时，RRT*不仅考虑最近的节点，而且还会在一定半径内搜索其他节点，检查是否存在通过这些节点到达新节点的更短路径。如果存在，就重新连接父节点，RRT逐渐优化路径，最终趋向于最优解 **State Lattice算法**：基于预定义的格子结构（即离散的、规则的点阵网格），在这个结构中应用搜索算法（如A*、Dijkstra或动态规划等）在状态格子中寻找从起点到终点的最优路径搜索。它侧重于在复杂环境下的高效率和精确性。（坐标转换到Frenet坐标系，Frenet坐标系以道路的几何中心线为参考，将车辆位置描述为沿道路中心线的距离（纵向距离，记为 s）和相对于中心线的横向偏移（记为d），根据车辆预期的速度和加速度范围，以及行驶的总距离，生成一系列纵向位置的采样点。之后需要路径平滑处理，样条曲线拟合） #### 2.4 控制算法 **Pure Pursuit算：**单车模型：基于追踪路径上的动态前瞻点来调整车辆的转向角，其关键在于根据车辆的速度和当前位置动态选择路径上一点作为目标，从而生成平滑的转向指令以跟踪路径，特别适合于速度相对恒定且路径变化不剧烈的场景。 **Stanley算法：**通过计算车辆相对于路径的横向偏差和航向偏差，并利用这些误差生成转向控制信号，以快速有效地纠正偏离路径的情况，非常适合于需要快速响应和处理复杂路况的自动驾驶应用。 **LQR**：线性二次型调节器，建立车辆动力学误差模型，经过线性离散化，得到离散化动态方程，通过设计一个系统状态和控制输入的一个目标函数，求解黎卡提方程得到最优反馈律 **MPC：**模型预测控制，建立车辆动力学误差模型，经过线性离散化，得到离散化动态方程，通过优化一个目标函数来确定未来一段时间内的最优控制序列，目标函数包括状态约束和控制输入约束以及车辆动力学约束，将优化求解问题转化为二次规划问题，使用QPOASES求解器求解。将当前时间步的控制输入作用于系统，在下一时刻更新预测控制输入序列。 **MPC与LQR比较：**MPC能够处理系统的输⼊和输出约束，但计算负担较重，且对系统模型要求很⾼。LQR具有更高的计算效率，因为它可以直接解析求解，但其缺乏对约束的直接处理，同样也对模型比较依赖。 **PID：**控制器类型，通过比例、积分、微分三个部分来调节系统，用于提高系统的稳定性、动态响应和减小超调。 调试方法：先比例（KI、KD设为0），后积分、再微分，KP由小到大调节，K很小的时候会出现振荡频繁，太大会导致很大的超调，因此在适中的时候（曲线出现两个波，前高后低4：1），就可以调节积分，当稳态误差较大时，加大KI，回归稳态时波动很大的时候减小KI，最后调节KD，当曲线振荡频率过大的时候，减小KD，超调回到稳态值很慢的时候，增大KD。 **积分饱和现象：**积分饱和现象是指PID控制中，由于长时间的误差积分，导致控制输出达到极限值而无法继续响应系统偏差的情况；解决方法：（积分分离）在大偏差时暂时禁用积分作用，直到偏差减小到一定范围内再启用，以防止积分项快速累积导致的饱和。 ### 3.C++八股 #### 3.0 基础语法 **引用：**引用是某个变量的别名，它不占用独立的内存空间。引用必须在定义时初始化，并且一旦被初始化指向一个变量，就不能再指向另一个变量。引用主要用于函数参数传递和返回值，以避免对象的拷贝 **类的占用空间**：成员变量的大小：类中所有非静态成员变量的大小之和是决定类对象大小的主要因素；如果类中有虚函数（包括从基类继承的虚函数），则类对象需要存储一个指向虚函数表（vtable）的指针。这个指针的大小通常为4字节（32位系统）或8字节（64位系统）；当类通过继承获得基类的属性和方法时，基类的非静态成员变量也会占用派生类对象的空间；空类（没有任何成员变量和成员函数的类）在C++中的大小为1字节。 **i+＋和＋+i:**（对于迭代器类型，i++会产生临时变量，效率比＋+i要低一些，因此推荐使用＋+i）删除迭代器指向的元素会导致迭代器失效。 **强制类型转换:**const_cast 运算符仅用于进行去除 const 属性的转换; static_cast 派生类到基类的转换和数据类型之间的转换; dynamic_cast专门用于将多态基类的指针或引用强制转换为派生类的指针或引用 **内存对齐：**确保数据按照一定的边界存储，从而加速内存访问速度。通过使用alignas关键字或编译器特定属性，对齐基准：最大的成员变量 **malloc和new的区别**：malloc 是C语言的标准库函数，主要用于分配内存，但它不会调用构造函数，返回的是 void* 类型的指针，需要手动进行类型转换。相比之下，new 是C++中的操作符，它不仅分配内存，还会自动调用对象的构造和析构函数，并直接返回正确类型的指针，提供了类型安全。因此在C++中管理对象释放内存时推荐使用 new 和对应的 delete 而不是 malloc 和 free。 **左值引用和右值引用：**左值是指表达式结束后仍然存在的对象，可以位于赋值符号的左侧；右值是临时的、不能再次被引用的对象，只能出现在赋值符号的右侧。右值引用（使用&&声明）允许一个对象接管另一个临时对象的资源，是C++11为了支持移动语义和完美转发而引入的特性，使得资源管理更高效 **纯虚函数**: 包含纯虚函数的类称为抽象类，抽象类不能被实例化，但可以作为基类用来派生其他类。 **构造函数不能是虚函数**：构造函数的目的是初始化对象的新实例。因为在调用构造函数时，对象的派生类部分还没有被创建，所以没有办法确定应该调用哪个派生类的构造函数。因此，构造函数不可以是虚函数 **析构函数可以并且有时应该是虚函数：**如果一个类被设计为基类，并且可能通过基类的指针来删除派生类的对象，那么它的析构函数应该声明为虚函数。这是为了确保当通过基类指针删除对象时，正确的析构函数（包括派生类的析构函数）被调用，从而避免内存泄漏或资源未正确释放的问题 **构造顺序**是先基类后成员变量，最后是派生类；析构顺序则相反。 **函数传参：** 传值：适合基本数据类型和不需要修改的小对象，函数内的改变不影响原始数据。 传引用：用于直接操作大对象或需要在函数内修改原始数据的场景，避免拷贝开销。 传指针：适用于可能需要传递 nullptr 或在函数内修改原始数组和数据结构。 传常量引用：用于读取大对象而不修改它们，节省拷贝成本且保护原始数据不被改变 #### 3.1 封装、继承、多态 **封装**：封装是将数据和操作数据的函数捆绑在一起，形成一个类。通过封装，定义其访问属性。这有助于提高代码的可维护性和可重用性，同时降低了代码的耦合性。public、private（类内访问）和protected（类和子类内访问）定义了类成员的访问权限，静态成员属于类本身，可以通过类名直接访问，而非静态成员属于类的实例，必须通过对象来访问。 **多态**：多态是面向对象编程中的一个核心概念，它允许对象以引用或指针的形式被视为其自身的类型或其基类类型的实例。多态性分为两种类型：静态多态和动态多态。动态多态通过虚函数实现，它在运行时解析。当一个类声明了虚函数时，编译器为这个类创建一个虚函数表（v-table），其中包含了指向类的虚函数的指针。如果一个类被继承，且子类重写了虚函数，则子类的虚函数表会被更新为指向新的函数实现。当通过基类的指针或引用调用虚函数时，会根据对象的实际类型来调用相应的函数实现，这个查找过程是在运行时进行的。静态多态通常通过函数重载和模板实现，它在编译时解析。函数重载允许多个同名函数在相同作用域内存在，但它们的参数类型或数量不同。编译器根据调用函数时提供的参数类型和数量来确定应该调用哪个函数。模板提供了一种机制，允许编写与任何类型一起工作的代码，编译器会根据使用的具体类型生成相应的代码 **继承**：继承是面向对象编程中的一个基本概念，它允许一个类（子类或派生类）基于另一个类（父类或基类）的定义来创建。通过继承，子类可以继承父类的属性和方法，并且可以在其基础上进行扩展或修改。这提高了代码的可重用性和扩展性 #### 3.2 C++11新特性 **auto 关键字：**自动推导数据类型 **Lambda表达式：**本质上是一个匿名函数对象。它允许我们定义并创建一个函数对象（functor）的实例，而无需事先定义函数或函数对象类。通过编译器转换为未命名的函数对象类实例的机制，它们支持捕获外部变量、定义参数和实现复杂的逻辑（函数体）。 **范围for循环：**C++11引入的一种简化数组或容器遍历的语法。它允许直接遍历容器中的每个元素，而无需使用迭代器或索引。这种循环的语法更简洁、更易读，提高了代码的可维护性。 **智能指针：** 内存泄漏：内存空间使用完毕之后未回收 *实现一个shared_ptr（引用计数器一定要放到堆区，然后用指针指向它），共享所有权的指针是指多个智能指针可以同时管理同一块有效的内存，它使用计数机制来表明资源被几个指针共享，自身的构造、赋值等操作是线程安全的，但通过shared_ptr访问所指向的对象的操作不是线程安全的。可以通过锁和互斥量保证。 底层实现：除了维护一个指向对象的原始指针，shared_ptr 还包含一个引用计数器。这个计数器追踪有多少个 shared_ptr 实例正在指向同一个对象。每当一个新的 shared_ptr 创建或赋值指向该对象时，计数器增加；当 shared_ptr 被销毁或改变指向时，计数器减少。当计数器归零时，对象和计数器的内存被释放。 *实现一个unique_ptr，独占的智能指针,独占所有权的指针，其特性是确保同⼀时刻只有⼀个指针能够指向指定的对象，当独占指针被销毁时所管理的对象也会被⾃动销毁。 底层实现：通常通过模板类实现，包含一个原始指针来指向实际的对象。析构函数中会检查这个原始指针，如果不为空，则调用 delete 来释放对象。unique_ptr 不允许拷贝或赋值，但可以通过移动语义（如 std::move）转移所有权; *实现一个weak_pt，std::weak_ptr，弱引⽤智能指针，用于持有对由 std::shared_ptr 管理的对象的非拥有性。它不会增加对象的引用计数，从而避免shared_pointer循环引用（Shared_ptr 相互引用，它们的引用计数永远不会降到零）和潜在的内存泄漏（悬挂指针）问题。std::weak_ptr 通过 lock() 方法提供了一种安全的方式来访问目标对象，该方法尝试将 std::weak_ptr 转换为 std::shared_ptr，以确保在对象访问期间对象不会被销毁。 智能指针本身通常存储在栈上，而它们管理的对象和相关的控制信息（如引用计数）通常存储在堆上。 左值引用和右值引用：左值是指表达式结束后仍然存在的对象，可以位于赋值符号的左侧；右值是临时的、不能再次被引用的对象，只能出现在赋值符号的右侧。右值引用（使用&&声明）允许一个对象接管另一个临时对象的资源，是C++11为了支持移动语义和完美转发而引入的特性，使得资源管理更高效 #### 3.3 标准模板库（STL） STL提供了序列容器（如vector, deque(双端队列), list(双端链表)）和关联容器（如set, map, unordered_map, unordered_set）等。set元素序列，map键值对 **vector: **动态数组，找更大的内存空间（2倍），然后将原数据拷贝新空间，释放原空间，emplace_back 直接在容器中构造元素，避免了额外的复制或移动操作，而 push_back 在添加元素到容器时，可能会涉及到复制或移动构造函数的调用。 vector 的内存增长策略通过使用增长因子来预留额外空间，从而减少因重新分配而带来的性能开销。 vector和array的区别：vector 是一个动态数组，支持运行时的大小调整和方便的成员函数，适用于需要大小可变的场景。array 是静态大小的数组，性能更优但不支持改变大小，适合已知固定大小需求的情况 resize() r不仅改变数组元素大小，还可能导致容量增加，而 reserve() 仅增加 vector 的容量以避免重新分配，不改变元素数量，用于预分配内存空间，。 **unordered_map **基于哈希表实现，通常提供 O(1) 的平均时间复杂度，但在哈希冲突多、哈希函数质量差、负载因子（容器中的元素数量与存储桶数量的比值）过高时性能下降至 O(n)； **map: **(储键值对（key-value pairs），其中每个键都是唯一的，每个键映射到一个特定的值。可以看作是一个从键到值的映射) 基于红黑二叉树（平衡二叉搜索树，空树或它的左右两个子树的高度差的绝对值不超过1，并且左右两个子树都是一棵平衡二叉树），提供稳定的 O(log n) 操作时间复杂度，且能保持元素有序。 **set：**仅存储唯一的键（或称为元素）不能有重复，不关联任何特定的值 **deque(双端队列）**：在两端进行插入和删除操作的数据结构，deque通常以连续块的形式存储数据，但是这些块不一定是连续分布的，而是通过指针链接起来的。这种设计使得deque能够在两端进行高效的插入和删除操作，而不需要像vector那样进行大量的数据搬迁。 **stack：**栈，后进先出的数据结构，只能在一端（顶端）进行插入和删除操作**，**往往不被归类为容器，而被归类为（容器适配器），默认是基于std::deque实现的，不提供迭代器来遍历栈空间 **Queue：**队列，先进先出的数据结构，插入操作在末尾进行，删除操作在头部进行。默认基于 std::deque 实现。 STL容器提供了一系列通用函数以支持高效的数据管理：**size()**和**empty()**用于查询容器状态，**clear()**、**insert()**和**erase()**用于修改内容，以及**begin()**和**end()**用于迭代访问。序列容器（如**vector**、**list**、**deque**）额外提供**push_back()**、**pop_back()**、**front()**和**back()**以支持顺序操作。关联容器（如**set**、**map**、**multiset**、**multimap**）则通过**find()**和**count()**支持高效查找和计数 #### 3.4 多线程与并发 ![](https://cdn.nlark.com/yuque/0/2024/png/27299753/1709871627027-47ee1db3-6932-4b8b-a87a-71c69da9db76.png#averageHue=%23f9f7f6&clientId=u7f549f08-2db7-4&from=paste&height=507&id=ue2ad7857&originHeight=577&originWidth=693&originalType=url&ratio=0.9375&rotation=0&showTitle=false&status=done&style=none&taskId=ub20dab11-fd20-45b4-b9bd-d814d06a798&title=&width=609.0000610351562) 构造函数：初始化、拷贝、移动构造 成员函数：获取线程ID、检查线程是否活动（joinable）、阻塞线程（join）、分离线程（**detach**） 多个线程在访问临界资源时可能会发生冲突 **同步线程**：(互斥量、条件变量（等待、通知）、信号量（等待、信号）) 锁与互斥：mutex(lock、unlock) lock_guard ：内部构造时相当于执行了lock，析构时相当于执行unlock。，在其析构函数中进行解锁。最终的结果就是：创建即加锁，作用域结束自动解锁。从而使用lock_guard()就可以替代lock()与unlock()。 unique_lock类似于lock_guard，只是unique_lock用法更加丰富，同时支持lock_guard()的原有功能。使用lock_guard后不能手动lock()与手动unlock()；使用unique_lock后可以手动lock()与手动unlock()； **异步线程：** future对象通过async创建子线程，get结果，shared_future可以调用多次 automic:互斥量的加锁一般是针对一个代码段，而原子操作针对的一般都是一个变量。对象自身就具有原子性，以保证线程之间不会冲突,无需上锁 **线程池基础知识：** 为了减少创建与销毁线程所带来的时间消耗与资源消耗，因此采用线程池的策略： 程序启动后，预先创建一定数量的线程放入空闲队列中，这些线程都是处于阻塞状态，基本不消耗CPU，只占用较小的内存空间。接收到任务后，线程池选择一个空闲线程来执行此任务。任务执行完毕后，不销毁线程，线程继续保持在池中等待下一次的任务。线程池所解决的问题： (1) 需要频繁创建与销毁大量线程的情况下，减少了创建与销毁线程带来的时间开销和CPU资源占用。（省时省力） (2) 实时性要求较高的情况下，由于大量线程预先就创建好了，接到任务就能马上从线程池中调用线程来处理任务，略过了创建线程这一步骤，提高了实时性。 #### 3.5 内存管理 C++程序在执行时，将内存大方向划分为**4个区域**<ul><li>代码区：存放函数体的二进制代码，由操作系统进行管理的</li><li>全局区：存放全局变量和静态变量以及常量</li><li>栈区：栈用于自动内存分配，主要存储函数的局部变量和函数调用的上下文。当函数调用时，其局部变量就会被自动分配在栈上；当函数返回时，这些局部变量就会被自动释放</li><li>堆区：堆用于动态内存分配，即程序在运行时请求内存，由程序员手动分配和释放。使用new操作符分配内存，使用delete操作符释放内存</li></ul><p>程序运行前：</p><ul><li>C++中在程序运行前分为全局区和代码区</li><li>代码区特点是共享和只读</li><li>全局区中存放全局变量、静态变量、常量</li><li>常量区中存放 const修饰的全局常量  和 字符串常量</li></ul><p>程序运行后：<br>栈区：<br>由编译器自动分配释放, 存放函数的参数值,局部变量等<br>注意事项：不要返回局部变量的地址，栈区开辟的数据由编译器自动释放<br>堆区：<br>由程序员分配释放,若程序员不释放,程序结束时由操作系统回收<br>在C++中主要利用new在堆区开辟内存（内存泄露）</p><h4 id="3-6-设计模式"><a href="#3-6-设计模式" class="headerlink" title="3.6. 设计模式"></a>3.6. 设计模式</h4><p>创建型模式<br>工厂模式：定义一个用于创建对象的接口，让子类决定实例化哪一个类<br>单例模式：确保一个类只有一个实例，并提供一个全局访问点。（懒汉式加锁来防止线程不安全的问题）<br>行为型模式<br>结构型模式</p><h3 id="4-ROS-2"><a href="#4-ROS-2" class="headerlink" title="4.  ROS 2"></a>4. ROS 2</h3><h4 id="4-1-环境设置"><a href="#4-1-环境设置" class="headerlink" title="4.1 环境设置"></a>4.1 环境设置</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">source /opt/ros/foxy/setup.bash<br></code></pre></td></tr></table></figure><h4 id="4-2-创建工作空间"><a href="#4-2-创建工作空间" class="headerlink" title="4.2 创建工作空间"></a>4.2 创建工作空间</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">mkdir -p ~/dev_ws/src<br>cd ~/dev_ws<br></code></pre></td></tr></table></figure><h4 id="4-3-创建和构建软件包"><a href="#4-3-创建和构建软件包" class="headerlink" title="4.3 创建和构建软件包"></a>4.3 创建和构建软件包</h4><p>（package.xml：包的及基础信息。CMakeLists.txt：CMake配置文件。）</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">ros2 pkg create --build-type ament_cmake &lt;package_name&gt;<br>colcon build<br>source install/setup.bash<br></code></pre></td></tr></table></figure><h4 id="4-4-运行ROS-2节点"><a href="#4-4-运行ROS-2节点" class="headerlink" title="4.4 运行ROS 2节点"></a>4.4 运行ROS 2节点</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">ros2 run [package_name] [executable_name]<br>ros2 node list<span class="hljs-comment">//列出当前活动的节点。</span><br>ros2 node info &lt;node_name&gt;<span class="hljs-comment">//获取特定节点的信息。</span><br></code></pre></td></tr></table></figure><h4 id="4-5-使用launch文件-节点管理-启动节点"><a href="#4-5-使用launch文件-节点管理-启动节点" class="headerlink" title="4.5 使用launch文件(节点管理)启动节点"></a>4.5 使用launch文件(节点管理)启动节点</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">ros2 launch [package_name] [launch_file_name]<br></code></pre></td></tr></table></figure><h4 id="4-5-通信方式"><a href="#4-5-通信方式" class="headerlink" title="4.5 通信方式"></a>4.5 通信方式</h4><p>话题（Topics）：适用于传感器数据流、状态信息等的广播。<br>服务（Services）：适用于需要明确响应的交互，如获取机器人的当前位置、触发某个动作等。<br>动作（Actions）：适用于需要反馈的长时间运行的任务，如移动到某个位置、执行长时间的计算等。<br>参数（Parameters）：适用于需要动态调整节点行为或配置的情况。</p><h4 id="4-6-开发模块"><a href="#4-6-开发模块" class="headerlink" title="4.6 开发模块"></a>4.6 开发模块</h4><p>Rviz是一个用于可视化机器人系统的开源工具，用于显示和调试机器人的传感器数据、状态信息和运动规划等。<br>Gazebo是一款开源的多机器人仿真器，用于模拟和测试机器人系统。它提供了一个类似真实环境的三维仿真环境，可以用于模拟各种机器人、传感器、环境和任务。<br>navigation：提供路径规划和导航功能。<br>tf&#x2F;tf2：用于处理坐标变换。<br>QT：信号与槽</p><h3 id="5-linux"><a href="#5-linux" class="headerlink" title="5. linux"></a>5. linux</h3><h4 id="5-1-cd命令"><a href="#5-1-cd命令" class="headerlink" title="5.1 cd命令"></a>5.1 cd命令</h4><p>cd . 进入当前目录<br>cd .. 进入上级目录<br>cd ~ 进入home目录<br>cd - 切换目录</p><h4 id="5-2-ls命令"><a href="#5-2-ls命令" class="headerlink" title="5.2 ls命令"></a>5.2 ls命令</h4><p>ls 查看文件<br>ls -a 查看所有文件<br>ls -l 查看文件信息（ll）</p><h4 id="5-3-创建删除命令"><a href="#5-3-创建删除命令" class="headerlink" title="5.3 创建删除命令"></a>5.3 创建删除命令</h4><p>mkdir -创建目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">单层目录</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">mkdir</span> 新目录的名字</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">多层目录, 需要加参数 -p</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">mkdir</span> parent/child/baby1/baby2 -p</span><br></code></pre></td></tr></table></figure><p>rm -删除目录或文件</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 1. 只能删除空目录</span><br><span class="hljs-variable">$</span> <span class="hljs-built_in">rmdir</span> 目录名<br><br><span class="hljs-comment"># 2. 可以删除目录也可以删除文件</span><br><span class="hljs-comment"># 删除目录需要加参数 -r, 递归的意思, 删除之后是不能恢复的</span><br><span class="hljs-variable">$</span> <span class="hljs-built_in">rm</span> 目录名  <span class="hljs-literal">-r</span><br></code></pre></td></tr></table></figure><h4 id="5-4-其他命令"><a href="#5-4-其他命令" class="headerlink" title="5.4 其他命令"></a>5.4 其他命令</h4><p>cp -负责文件或目录<br>mv - 移动文件或目录<br>cat - 查看文件<br>tar zcvf -压缩<br>tar zxvf -解压缩<br>dkpg -i -安装<br>pwb -查看当前目录<br>find -name 根据文件名查找 -type 根据文件类型查找 -size 根据文件大小查找<br>grep -r: 递归搜索<br>top -查看CPU使用情况<br>vmstat 1 **-**可以看到每秒的CPU使用情况。<br>chmod 修改文件权限<br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711517649637-ef44ef60-1c7d-4048-a26b-8a82b1db5ffa.png#averageHue=%23f3f1ed&clientId=uf2cd4cd7-1ad5-4&from=paste&height=176&id=ude845191&originHeight=158&originWidth=493&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=17594&status=done&style=none&taskId=ue707e78f-f112-4a30-9bd2-8bcf63c8553&title=&width=547.7777922889337" srcset="/img/loading.gif" lazyload alt="image.png"><br>gcc 编译器<br>预处理-编译-汇编-链接-执行<br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1709874992176-d70a8bee-afb9-494a-b332-3ebf2af275c9.png#averageHue=%239c8169&clientId=u113b2836-6258-4&from=paste&height=322&id=xmK74&originHeight=302&originWidth=1014&originalType=binary&ratio=0.9375&rotation=0&showTitle=false&size=25902&status=done&style=none&taskId=u05a64cd4-2691-400c-b01d-49e93cfb648&title=&width=1081.6" srcset="/img/loading.gif" lazyload alt="image.png"><br>gdb 调试： info locals（局部变量值）<br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1709875124600-67b28e06-a5c4-49a8-bfb5-ddc9a924d9b4.png#averageHue=%23fcfcfb&clientId=u113b2836-6258-4&from=paste&id=BL4DB&originHeight=637&originWidth=1022&originalType=url&ratio=0.9375&rotation=0&showTitle=false&status=done&style=none&taskId=u86516fb7-0670-4401-a97e-1ca8f160d5d&title=" srcset="/img/loading.gif" lazyload><br>makefile: Makefile是make工具的配置文件，它定义了一套规则来指定如何编译和链接程序。<br>cmake：CMake是一个跨平台的构建系统，它使用CMakeLists.txt文件来定义构建过程。与Makefile不同，CMake并不直接构建项目，而是根据配置生成标准的构建文件。<br>git常用命令：<br>git clone: 从远程仓库克隆项目到本地。<br>git add: 将更改添加到暂存区，准备提交。<br>git commit: 将暂存区的更改提交到本地仓库。<br>git push: 将本地仓库的更改推送到远程仓库。<br>git pull: 从远程仓库获取最新更改并合并到本地仓库</p><h4 id="5-5-进程、线程间通信"><a href="#5-5-进程、线程间通信" class="headerlink" title="5.5 进程、线程间通信"></a>5.5 进程、线程间通信</h4><p>进程通信：管道、信号、信号量、socket（套接字）（网络层实现）、共享内存、消息队列<br>线程通信：锁、条件变量、信号量、全局变量</p><h3 id="6-项目整理"><a href="#6-项目整理" class="headerlink" title="6.项目整理"></a><strong>6.项目整理</strong></h3><h4 id="6-1-基于Appllow与carla横纵向控制"><a href="#6-1-基于Appllow与carla横纵向控制" class="headerlink" title="6.1 基于Appllow与carla横纵向控制"></a>6.1 基于Appllow与carla横纵向控制</h4><h5 id="6-1-1-联合仿真环境搭建："><a href="#6-1-1-联合仿真环境搭建：" class="headerlink" title="6.1.1 联合仿真环境搭建："></a>6.1.1 联合仿真环境搭建：</h5><p>在 docker 中构建并运行 Carla 和 Apollo，启动Dreamview ，运行carla_apollo_bridge，地图选取carla_town04。<br>apollo项目中的分工：定位（GPS、高精地图）、感知（路况信息）、规划（起点到终点的路线）、控制（车辆行驶）</p><h5 id="6-1-2-车辆运动学模型："><a href="#6-1-2-车辆运动学模型：" class="headerlink" title="6.1.2 车辆运动学模型："></a>6.1.2 车辆运动学模型：</h5><p>自行车模型（车辆的转向通过改变前轮的角度来实现，而后轮则始终指向车辆的行进方向<br>简化过程：不考虑车辆在Z轴方向的运动，只考虑XY水平面的运动；左右侧车轮转角一致，这样可将左右侧轮胎合并为一个轮胎，以便于搭建单车模型；车辆行驶速度变化缓慢，忽略前后轴载荷的转移；车身及悬架系统是刚性的。<br>阿克曼转向模型（考虑了在转弯时，车辆的所有轮子应该沿着圆弧移动，以减少轮胎的侧向滑动和磨损。这要求车辆的内侧轮（靠近转弯中心的轮子）和外侧轮（远离转弯中心的轮子）在转弯时有不同的转向角）<br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711334656754-7038f80f-e222-404c-94bb-46b7077d5847.png#averageHue=%23faf9f9&clientId=u0b9cb2d8-9067-4&from=paste&height=264&id=u02940c9f&originHeight=238&originWidth=1075&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=36774&status=done&style=none&taskId=u2fc870e9-db1c-4998-ba59-e4b41bb440d&title=&width=1194.4444760864171" srcset="/img/loading.gif" lazyload alt="image.png"><br><strong>6.1.3 车辆动力学模型</strong>：<br>方向盘控制模型，纵向力（滑移率、法向载荷、摩擦系数）（空气阻力、滚动阻力、重力）、侧向力<br>简化过程：只考虑纯侧偏轮胎特性，忽略轮胎力的纵横向耦合关系；用单车模型来描述车辆的运动，不考虑载荷的左右转移；忽略横纵向空气动力学。<br>滑移角（侧偏角）：轮胎方向和轮胎速度方向的夹角。滑移角的产生主要是由于车轮所受合力方向并非朝向车轮行进方向，但车轮的偏移角通常较小。<br>横向力与侧偏角成正比，比例系数为两倍侧偏刚度；<br>根据辨识得到的侧偏刚度，滑移角、航向角分析前后轮的受力情况，可以建立航向转角控制输入与横向误差、横向误差率与航向偏差、航向偏差率状态之间的状态空间表达式，即车辆的动力学模型。<br>线性离散化：雅可比线性化、零阶保持器（向前欧拉法）</p><h5 id="6-1-4-纵向PID控制："><a href="#6-1-4-纵向PID控制：" class="headerlink" title="6.1.4 纵向PID控制："></a>6.1.4 纵向PID控制：</h5><p>纵向控制主要通过控制汽车的刹车&#x2F;油门来实现对汽车速度的控制。它主要由一个级联控制器和一个标定表构成。级联控制器由位置PID闭环控制器和速度PID闭环控制器构成；标定表是指速度-加速度-刹车&#x2F;油门命令标定表<br>输入为：定位信息、车辆状态信息、规划信息<br>输出为：油门&#x2F;刹车命令<br>油门刹车标定：车辆将会按照不同油门开度下加速，直到到达指定速度。同时使用不同刹车值减速（为负值），直到车辆停止结束，得到不同油门刹车值下的v-a曲线，拟合后得到三维油门刹车表曲面。</p><h5 id="6-1-5-横向反馈LQR控制器："><a href="#6-1-5-横向反馈LQR控制器：" class="headerlink" title="6.1.5 横向反馈LQR控制器："></a>6.1.5 横向反馈LQR控制器：</h5><p>建立车辆运动学误差模型，采用变分法，求解黎卡提等式，可以得到最优的反馈率K<br>输入为：定位信息、车辆状态信息、规划信息<br>输出为：方向盘控制量</p><h5 id="6-1-6-横向RBF前馈控制："><a href="#6-1-6-横向RBF前馈控制：" class="headerlink" title="6.1.6 横向RBF前馈控制："></a>6.1.6 横向RBF前馈控制：</h5><p>为了补偿道路曲率对稳态误差的影响，实现零稳态误差<br>输入：道路曲率、速度<br>输出：方向盘转角补偿值</p><h4 id="6-2-广汽埃安"><a href="#6-2-广汽埃安" class="headerlink" title="6.2 广汽埃安"></a>6.2 广汽埃安</h4><p>ADAS 功能的（如 ACC、AEB、LKA 等）的上线测试工作<br>1.前方雷达在无障碍物的情况下也会报警。问题原因：新申请的测试牌照是金属平面，与车身部门呈弯曲形状，形成一个空腔，这个空腔刚好位于雷达的发射区域，导致雷达在特定车身角度下报警。问题解决：对雷达的滤波算法进行改进，滤除误报信息。<br>2.行人和非机动车检测，行人突然从停着的车辆后面跑出，车辆未及时制动。问题原因：行人被部分遮挡，加之光照条件可能不佳，系统识别率低。问题解决：对算法进行优化，包括改进目标检测算法、增强遮挡处理能力和提高光照变化下的识别准确率。<br>评分是基于各测试点相对速度的减少量进行计算。对于完全避免碰撞的试验<br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711514066855-5454e5df-f1f1-4e12-982e-10c1a0ae57f6.png#averageHue=%23f7f6f4&clientId=u970f340a-49df-4&from=paste&height=71&id=u4224af0a&originHeight=64&originWidth=399&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=19635&status=done&style=none&taskId=u37963ab1-3ed3-46a2-9ab2-5f07acfc80a&title=&width=443.33334507765625" srcset="/img/loading.gif" lazyload alt="image.png"><br>行人保护、乘客保护、C-NCAP管理准则</p><h4 id="6-3-优必选无人车调试"><a href="#6-3-优必选无人车调试" class="headerlink" title="6.3 优必选无人车调试"></a>6.3 优必选无人车调试</h4><p>1.⼩⻋巡航算法中的横向控制采⽤了双pid算法，控制⼩⻋的横向误差和航向⻆误差，小⻋纵向运⽤了梯形速度规划发送速度，避障功能是根据⼩⻋当前速度在⼩⻋正前⽅划分出停⽌区间、减速区间和警告区间，当⼩⻋的激光雷达检测到前⽅这⼏个区域中出现了障碍物，且在三次检测后依旧出现时将执⾏对应的功能</p><h5 id="6-4-多机器人路径规划与协调控制"><a href="#6-4-多机器人路径规划与协调控制" class="headerlink" title="6.4 多机器人路径规划与协调控制"></a>6.4 多机器人路径规划与协调控制</h5><p>1.初始化：将所有任务标记为未分配状态，将所有无人车标记为未分配任务状态。<br>2.重复以下步骤直到所有任务都被分配：<br>对于每个无人车，计算其执行每个任务的收益比，配送收益除以到达目标点所需的距离等。<br>选择使得收益最大的任务，并将该任务分配给当前无人车。<br>将该任务标记为已分配，更新无人车和任务的状态</p><h3 id="7-控制理论"><a href="#7-控制理论" class="headerlink" title="7.控制理论"></a>7.控制理论</h3><h4 id="7-1-稳定性判据及稳定性类型"><a href="#7-1-稳定性判据及稳定性类型" class="headerlink" title="7.1 稳定性判据及稳定性类型"></a>7.1 稳定性判据及稳定性类型</h4><p><strong>稳定性</strong>：指的是系统在受到扰动后能否返回到或趋近于其初始状态或平衡点<br><strong>赫尔维茨判据：</strong>系统特征方程的所有根都有负的实部。<br><strong>劳斯判据：</strong>通过构造劳斯数组并检查数组第一列的正负号变化，来判断系统特征方程根的位置，从而确定系统的稳定性。<br><strong>李雅普诺夫稳定性判据</strong>：如果能找到一个全局正定的李雅普诺夫函数，其导数在整个状态空间内是负定的，那么系统是全局稳定的。<br><strong>奈奎斯特判据</strong>：主要用于频域分析，通过绘制系统开环传递函数的奈奎斯特图来判断闭环系统的稳定性。<strong>伯德判据</strong>：也是一种频域分析方法，通过分析系统的伯德图（增益图和相位图）来判断系统的稳定性。<br><strong>全局李雅普诺夫稳定性：</strong>如果系统从任意初始状态出发的轨迹都趋向于平衡点，那么该系统是全局李雅普诺夫稳定的<br><strong>渐进稳定性：</strong>如果系统是李雅普诺夫稳定的，并且所有从某个邻域内出发的轨迹最终都会趋向于平衡点，那么该系统在该平衡点是渐进稳定的<br><strong>指数稳定性</strong>：如果系统的解不仅趋向于平衡点，且以指数的速率趋近，那么该系统指数稳定的<br><strong>BIBO稳定性：</strong>如果对于任何有界输入，系统的输出都保持有界，那么该系统是有界输入有界输出（BIBO）稳定的。</p><h4 id="7-2-能控性和能观性"><a href="#7-2-能控性和能观性" class="headerlink" title="7.2 能控性和能观性"></a>7.2 能控性和能观性</h4><p><strong>能控性：</strong> 从任意的初始状态，都能通过控制输入来到达任何其他状态。<br><strong>能观性</strong>：输入给定，任意的初始状态都能被系统的输出完全观测。</p><h4 id="7-3-基本概念"><a href="#7-3-基本概念" class="headerlink" title="7.3 基本概念"></a>7.3 基本概念</h4><p><strong>幅值裕度：</strong>系统相位延迟达到180时，开环频响的增益。相角裕度是指在开环增益为1时，系统相位距离-180的余量。<br><strong>截止频率（剪切频率）：</strong>系统增益下降到最大增益的（约等于0.707）处的频率<br><strong>带宽：</strong>带宽”通常指的是系统能够响应的频率范围。具体来说，定义为系统频率响应的幅度下降到最大幅度的一定比例（通常是-3dB，即幅度下降到最大幅度的70.7%）时的频率范围。带宽越大，系统能有效响应的最高频率也就越高，这通常意味着更好的跟踪性能和更快的响应速度。但是，带宽的增加也可能导致系统的噪声敏感度增加，以及对高频扰动的抑制能力降低。</p><h4 id="7-4-二阶系统的性能指标："><a href="#7-4-二阶系统的性能指标：" class="headerlink" title="7.4 二阶系统的性能指标："></a>7.4 二阶系统的性能指标：</h4><p><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711420421571-320675a4-1de8-4657-a1b8-73b9aed6422b.png#averageHue=%23f1eeea&clientId=u05c7ec3e-65a0-4&from=paste&height=335&id=uefa5957b&originHeight=251&originWidth=492&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=32173&status=done&style=none&taskId=u078f9f35-0c63-4ca1-82e4-aa134920778&title=&width=656" srcset="/img/loading.gif" lazyload alt="image.png"></p><h4 id="7-5-系统校正："><a href="#7-5-系统校正：" class="headerlink" title="7.5 系统校正："></a>7.5 系统校正：</h4><p><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711422097757-8ebc9de1-e8ca-4a92-bd53-9b5eb66092ca.png#averageHue=%23f6f5f3&clientId=u05c7ec3e-65a0-4&from=paste&height=836&id=BhA3A&originHeight=627&originWidth=518&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=55086&status=done&style=none&taskId=ue9fbcb9e-b364-4c76-a8d1-617ee9ebd3c&title=&width=690.6666666666666" srcset="/img/loading.gif" lazyload alt="image.png"></p><h4 id="7-6-动力学方程一般形式"><a href="#7-6-动力学方程一般形式" class="headerlink" title="7.6 动力学方程一般形式"></a>7.6 动力学方程一般形式</h4><p><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711420757619-9ff80d91-4fb0-4ec2-96b6-69dbf788d8d2.png#averageHue=%23fbf9f7&clientId=u05c7ec3e-65a0-4&from=paste&height=48&id=ucefd8176&originHeight=36&originWidth=293&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=2846&status=done&style=none&taskId=uc0036a75-d2ac-492a-9617-d37029aaea0&title=&width=390.6666666666667" srcset="/img/loading.gif" lazyload alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711420773571-bffd8d07-0589-4046-847d-7ff35a9f73a5.png#averageHue=%23eeeae5&clientId=u05c7ec3e-65a0-4&from=paste&height=166&id=u0f35d6da&originHeight=125&originWidth=494&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=20174&status=done&style=none&taskId=ua6b7a07e-9539-4ece-92b6-7e122af72b1&title=&width=656" srcset="/img/loading.gif" lazyload alt="image.png"></p><h4 id="7-7-非线性控制方法："><a href="#7-7-非线性控制方法：" class="headerlink" title="7.7 非线性控制方法："></a>7.7 非线性控制方法：</h4><p>反馈线性化：通过适当设计控制律，消除系统动态中的非线性项。（雅可比线性化是通过在局部点附近对非线性系统方程求一阶偏导进行一阶泰勒展开，从而将其近似为线性系统的方法。）<br>滑膜控制：通过设计一个滑动面和相应的控制律，使得系统状态从任意初始条件出发，最终达到并沿着滑动面到达平衡点<br>自适应控制：对于具有未知参数或参数随时间变化的非线性系统，设计参数估计器对参数进行调整<br>最优控制&#x2F;模型预测控制</p><h4 id="7-8-离散系统"><a href="#7-8-离散系统" class="headerlink" title="7.8 离散系统"></a>7.8 离散系统</h4><p>系统建模：对于离散系统，模型通常以差分方程或Z变换<br>Z变换法：通过对连续时间系统的脉冲响应进行采样和Z变换，得到离散系统的传递函数。<br>双线性变换（Tustin变换）：一种常用的方法，通过将s域到z域的映射建立起来，实现从连续到离散的转换，可以保持系统频率响应的特性。<br>香农采样定理：<br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711436895364-6a6858ea-d73c-41c3-b1a2-0735487983d8.png#averageHue=%23f4f2f0&clientId=ucab514a9-5f60-4&from=paste&height=114&id=u5e5ec959&originHeight=85&originWidth=500&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=9050&status=done&style=none&taskId=uf57ab201-9611-4948-8539-dcdf1f8bf64&title=&width=668" srcset="/img/loading.gif" lazyload alt="image.png"><br>稳定性分析。离散系统的稳定性可以通过其系统特征方程的根来判断。如果一个系统的所有特征根都位于单位圆内（即根的绝对值小于1），则系统是稳定的</p><h4 id="7-9-其他"><a href="#7-9-其他" class="headerlink" title="7.9 其他"></a>7.9 其他</h4><p><strong>轨迹平滑方法：</strong>样条插值（如贝塞尔曲线、B样条曲线）：通过插值方法生成平滑曲线<br><strong>曲率优化的方法</strong>：将曲率优化问题形式化为一个凸优化问题，通过凸优化求解器（OSQP）高效求解<br><strong>凸优化问题</strong>：目标函数是凸函数、约束条件形成凸集的优化问题<br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711336738858-f779697b-80ec-452a-a7aa-9490edd647a1.png#averageHue=%23f5f3f0&clientId=u0b9cb2d8-9067-4&from=paste&height=179&id=Q8ozB&originHeight=161&originWidth=494&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=19546&status=done&style=none&taskId=u427df147-20bf-4cf4-bc68-7257bc188a5&title=&width=548.8889034294791" srcset="/img/loading.gif" lazyload alt="image.png"><br><strong>凸优化求解方法：</strong><br>简单的凸优化问题，可能直接通过分析方法求解析解找到最优解<br>大多数实际中的凸优化问题都需要借助数值方法来求解：<br>内点法：通过构造一个障碍函数，将原问题转换为一系列无约束优化问题来求解<br>活动集方法：在每一步迭代中维护一个“活动集”，这个集合包含了那些被认为在当前解下是活动（即约束条件作为等式成立）的约束。算法通过不断更新这个活动集来寻找最优解<br>求解器：QSQP\qpOASES<br><strong>非凸问题转换为凸问题：</strong><br>线性化方法（局部优化）：车辆动力学模型包括非线性项，<br>凸近似（全局优化）：引入新的变量和约束将原始非凸问题转化为凸优化问题</p><h4 id="7-10-实现-Ax-b-其中A-b均是矩阵"><a href="#7-10-实现-Ax-b-其中A-b均是矩阵" class="headerlink" title="7.10 实现 Ax&#x3D;b,其中A,b均是矩阵"></a>7.10 实现 Ax&#x3D;b,其中A,b均是矩阵</h4><p><strong>最小二乘法：</strong><br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711433317590-78de64c9-2c84-4a90-aaf2-635865719966.png#averageHue=%23f8f7f5&clientId=u27d948ed-546b-4&from=paste&height=552&id=uefa5c520&originHeight=471&originWidth=517&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=41144&status=done&style=none&taskId=u2565e733-8ff0-4e14-8038-c5bf03675a3&title=&width=606.3333740234375" srcset="/img/loading.gif" lazyload alt="image.png"><br><strong>伪逆法：</strong><br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711433476932-8a8b2f0a-c691-428b-a7d2-32ab48a54037.png#averageHue=%23f5f3f1&clientId=u27d948ed-546b-4&from=paste&height=312&id=u6fbcbfe9&originHeight=234&originWidth=490&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=24769&status=done&style=none&taskId=u8965429c-4185-4d28-93ed-d2e0923e972&title=&width=653.3333333333334" srcset="/img/loading.gif" lazyload alt="image.png"></p><h4 id="7-11-根号（a）怎么算"><a href="#7-11-根号（a）怎么算" class="headerlink" title="7.11 根号（a）怎么算"></a>7.11 根号（a）怎么算</h4><p><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711433595317-27547d45-030c-4edc-9d67-9800055ae36b.png#averageHue=%23f7f4f3&clientId=u27d948ed-546b-4&from=paste&height=325&id=ua145fd69&originHeight=244&originWidth=470&originalType=binary&ratio=0.75&rotation=0&showTitle=false&size=24846&status=done&style=none&taskId=u036706c9-cc8e-4338-8915-fc24b634967&title=&width=626.6666666666666" srcset="/img/loading.gif" lazyload alt="image.png"><br>7.12 扰动观测器<br>完成系统建模后，基于一阶和二阶的滑模观测器、滤波观测器<br><img src="https://cdn.nlark.com/yuque/0/2024/png/27299753/1711447724656-1fe752d6-2a9a-498a-88b1-72470848087a.png#averageHue=%23f2efeb&clientId=ue8697255-5e77-4&from=paste&height=219&id=u6ab94b9d&originHeight=197&originWidth=520&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=23206&status=done&style=none&taskId=u003d405c-0cf7-4835-9532-6d47872f147&title=&width=577.7777930836622" srcset="/img/loading.gif" lazyload alt="image.png"></p><h3 id="8-反问"><a href="#8-反问" class="headerlink" title="8.反问"></a>8.反问</h3><p>1.请问这个岗位的实习生具体的工作是什么？<br>2.这个业务线现在有多少人，在控制方面的主要难点有哪些？</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95/" class="category-chain-item">控制算法</a></span></span></div></div><div class="license-box my-3"><div class="license-title"><div>底盘驱动基本原理</div><div>https://tanghw9827.github.io/2024/08/01/准备记录-自驾规控岗位/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Harvey Tang</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2024年8月1日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-cc-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/2024/08/01/%E5%BA%95%E7%9B%98%E9%A9%B1%E5%8A%A8%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/" title="底盘驱动基本原理"><span class="hidden-mobile">底盘驱动基本原理</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",(function(){Fluid.utils.createScript("https://lib.baomitu.com/valine/1.5.1/Valine.min.js",(function(){var n=Object.assign({appId:"8m9N9Kn5CK6K1op9xdv7Ij9V-MdYXbMMI",appKey:"FVHAVAwSHL9MNMaYrhu3uMfm",path:"window.location.pathname",placeholder:"欢迎留言哦！请保持文明用语😊",avatar:"mp",meta:["nick","mail","link"],requiredFields:["nick","mail"],pageSize:10,lang:"zh-CN",highlight:!0,recordIP:!0,serverURLs:"https://8m9n9kn5.api.lncldglobal.com",emojiCDN:"https://cdn.jsdelivr.net/npm/@valine/emojis@latest",emojiMaps:{smile:"smile.png",grin:"grin.png",joy:"joy.png",rofl:"rofl.png",stuck_out_tongue:"stuck_out_tongue.png",stuck_out_tongue_winking_eye:"stuck_out_tongue_winking_eye.png"},enableQQ:!0},{el:"#valine",path:window.location.pathname});new Valine(n),Fluid.utils.waitElementVisible("#valine .vcontent",()=>{var n="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(n),Fluid.plugins.fancyBox(n)})}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script>window.MathJax?(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise()):window.MathJax={tex:{inlineMath:{"[+]":[["$","$"]]}},loader:{load:["ui/lazy"]},options:{renderActions:{insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(t=>{let e=t.parentNode;"li"===e.nodeName.toLowerCase()&&e.parentNode.classList.add("has-jax")})},"",!1]}}},Fluid.events.registerRefreshCallback((function(){"MathJax"in window&&MathJax.startup.document&&"function"==typeof MathJax.startup.document.state&&(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise())}))</script><script src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js"></script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>